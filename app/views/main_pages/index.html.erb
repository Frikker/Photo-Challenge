<div class="service-part">
  <%= form_with url: root_url, class: 'search-form', method: :get, data: {remote: false} do |f| %>
    Поиск:
    <%= f.hidden_field 'model', value: 'post' %>
    <%= f.text_field :value, class: 'search-field', value: 'Enter value',
                     onfocus: 'if(this.value == "Enter value"){this.value = "";}',
                     onblur: 'if(this.value == ""){this.value = "Enter value";}' %>
    по: <%= f.select :search_by, raw('<option value="content">Описание</option><option value="first_name">Имя</option>') %>
    <%= f.submit 'Search' %>
  <% end %>
  <a href="#" class="dropdown-toggle" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Sort by
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
    <div class="dropdown-item"><%= link_to 'By upload date ▼ ', root_path({order_by: 'created_at', order_type: 'desc'}) %></div>
    <div class="dropdown-item"><%= link_to 'By upload date ▲ ', root_path({order_by: 'created_at', order_type: 'asc'}) %></div>
    <div class="dropdown-item"><%= link_to 'By rating ▼ ', root_path({order_by: 'rating_count', order_type: 'desc'}) %></div>
    <div class="dropdown-item"><%= link_to 'By rating ▲ ', root_path({order_by: 'rating_count', order_type: 'asc'}) %></div>
    <div class="dropdown-item"><%= link_to 'By comments ▼ ', root_path({order_by: 'comments_count', order_type: 'desc'}) %></div>
    <div class="dropdown-item"><%= link_to 'By comments ▲ ', root_path({order_by: 'comments_count', order_type: 'asc'}) %></div>
  </div>
</div>
<div class="main-page-content">
  <%= render 'content' %>
</div>
<script>
  $('#search_by').change(function (){
      if (this.value == 'content'){
          $('#model')[0].value = 'post';
      } else {
          $('#model')[0].value = 'user';
      }
  })
</script>